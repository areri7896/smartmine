<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>
    {% block title %} Dashboard | SmartMine - Landing Page & Dashboard{%endblock %}
  </title>
  <meta content="Dashboard  | SmartMine - Landing Page & Dashboard" property="og:title" />
  <meta content="Dashboard | SmartMine - Landing Page & Dashboard"
    property="js-navbar-search-popup__image--cancel:title" />
  <meta name="description" content="Landing Page & Dashboard" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->

  <style>
    .contact-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s, box-shadow 0.2s;
      z-index: 1000;
    }

    .contact-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .contact-btn img {
      width: 24px;
      height: 24px;
    }
  </style>
  {% block css_links %}
  <link href="{% static 'assets/media/images/icons/logo.svg' %}" rel="shortcut icon" type="image/x-icon" />

  <!-- Start::Global Styles (used by all pages) -->
  <link href="{% static 'assets/css/styles.bundle.css' %}" rel="stylesheet" type="text/css" />
  <!-- End::Global Styles -->
  <!-- Start::Plugins (used by this page) -->
  <link href="{% static 'assets/plugins/apexcharts/apexcharts.css' %}" rel="stylesheet" type="text/css" />
  <!-- End::Plugins -->
  <!-- Start::Page Styles (used by this page) -->
  <link href="{% static 'assets/css/pages/dashboard-v1.css' %}" rel="stylesheet" type="text/css" />
  <!-- End::Page Styles -->
  <link href="{% static 'assets/css/pages/wallet-v1.css' %}" rel="stylesheet" type="text/css" />
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
  {% endblock %}
</head>

<body class="">
  <!-- Start::Dashboard Navbar v1 -->
  <nav class="navbar navbar-expand-lg header-navbar header-navbar-dashboard--v1">
    <div class="container container--dashboard-nav">
      <button class="navbar-toggler ml-auto" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
        aria-label="Toggle navigation">
        <img src="{% static 'assets/media/images/icons/menu.svg' %}" alt="MENU" />
      </button>
      <a class="navbar-brand" href="{% url 'dashboard' %}">
        <img class="navbar-brand__text" src="{% static 'assets/media/images/icons/smrs.png' %}" style="width: 200px"
          alt="SmartMine" />
        <h4 class="navbar-brand__text--mobile">Dashboard</h4>
      </a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-collapse__content">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link active" href="{% url 'dashboard' %}">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'exchange' %}">Exchange</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'wallet' %}">Wallet</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'market' %}">Market</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'referral_dashboard' %}">Referrals</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="navbar-right">
        <div class="navbar-search">
          <input type="text" class="navbar-search__input" placeholder="Search" />
          <img src="{% static 'assets/media/images/icons/search.svg' %}" alt="search-icon"
            class="navbar-search__image" />
        </div>
        <!-- <div class="navbar-notifications">
            <img
              src="{% static 'assets/media/images/icons/notifications.svg' %}"
              alt="notifications-icon"
              class="navbar-notifications__image"
            />
            <div class="navbar-notifications__dropdown">
              <p class="fb-regular fb-regular--bold notifications__title">
                Notifications
              </p>
              <div class="notifications__box">
                <div class="notifications__item">
                  <img
                    src="{% static 'assets/media/images/32x32.png' %}"
                    alt=""
                    class="notifications__item-image"
                  />
                  <div class="notifications__item-message">
                    <p class="notifications__item-sender">Keanu Reeves</p>
                    <p class="notifications__item-text">promoted your post</p>
                  </div>
                </div>
                <div class="notifications__item">
                  <img
                    src="{% static 'assets/media/images/32x32.png' %}"
                    alt=""
                    class="notifications__item-image"
                  />
                  <div class="notifications__item-message">
                    <p class="notifications__item-sender">Keanu Reeves</p>
                    <p class="notifications__item-text">promoted your post</p>
                  </div>
                </div>
              </div>
            </div>
          </div> -->
        {% if request.user.is_authenticated %}
        <div class="navbar-profile-menu">
          <p class="navbar-profile-menu__text">{{ request.user.username }}</p>
          <img src="{{ request.user.profile.profile_pic.url }}" alt="profile-photo-icon"
            class="navbar-profile-menu__image" />
          <img src="{% static 'assets/media/images/icons/arrow-down.svg' %}" alt="arrow-down-icon"
            class="navbar-profile-menu__arrow" />
          <div class="navbar-profile-menu__dropdown">
            <div class="navbar-profile-menu__dropdown-item">
              <a class="fb-regular dropdown-item__link" href="{% url 'profile' %}">Profile</a>
            </div>
            <div class="navbar-profile-menu__dropdown-item">
              <a class="fb-regular dropdown-item__link" href="{% url 'account_logout' %}">Log Out</a>
            </div>
          </div>
        </div>
        {% endif %}
      </div>

      <div class="navbar-search-popup">
        <input type="text" class="navbar-search-popup__input js-navbar-search-popup__input" placeholder="Search" />
        <img src="{% static 'assets/media/images/icons/search.svg' %}" alt="search-icon"
          class="navbar-search-popup__image" />
        <img src="{% static 'assets/media/images/icons/plus-icon.svg' %}" alt="cancel-icon"
          class="navbar-search-popup__image--cancel js-navbar-search-popup__image--cancel" />
      </div>
    </div>
  </nav>
  <!-- End::Dashboard Navbar v1 -->



  <!-- Contact Button -->
  <button class="contact-btn btn btn-primary" data-bs-toggle="modal" data-bs-target="#contactModal"
    title="Contact Support">
    <img src="https://img.icons8.com/ios-filled/24/ffffff/help.png" alt="Help Icon">
  </button>

  <!-- Contact Modal -->
  <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content w-100">
        <div class="modal-header">
          <h5 class="modal-title text-black" id="contactModalLabel">Contact Support</h5>
          <button type="button" class=" btn btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="col-12 mt-3 align-items-center justify-content-center d-flex margin-auto">
          <div class="col-6 d-flex flex-column align-items-center justify-content-center">
            <a href="https://t.me/smartminelimited" target="_blank"
              class="btn btn-secondary btn-lg btn-pill  mb-3 w-100">Telegram <img
                src="{% static 'assets/media/images/icons/telegram.png' %}" alt=""></a>
            <a href="https://t.me/SmartMine_AI" target="_blank"
              class="btn btn-secondary btn-lg btn-pill  mb-3 w-100">Telegram <img
                src="{% static 'assets/media/images/icons/telegram.png' %}" alt=""></a>
            <!-- <a href="" class=" btn btn-primary btn-lg btn-pill mb-3 w-100">Get Started </a>
            <a href="" class="btn btn-primary btn-lg btn-pill mb-3 w-100">Get Started </a> -->
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script> -->

  {% block content %} {% if messages %}
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToast" class="toast bg-primary" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto" style="background-color: #fa2256">Alert</strong>
        <small class="text-muted">Just now</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" style="background-color: #246cf9" id="toastMessage">
        {% for message in messages %} {{ message }} {% endfor %}
      </div>
    </div>
  </div>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const toastEl = document.getElementById("liveToast");
      const toast = new bootstrap.Toast(toastEl);
      toast.show();
    });
  </script>
  {% endif %}
  {% block js%}
  <!-- Start::Global Bundle Scripts (used by all pages) -->
  <script src="{% static 'assets/js/scripts.bundle.js' %}"></script>
  <script src="{% static 'assets/js/custom/sidebar.js' %}"></script>
  <!-- End::Global Bundle Scripts -->
  <!-- Start::Plugins (used by this page) -->
  <script src="{% static 'assets/plugins/apexcharts/apexcharts.min.js' %}"></script>
  <script src="{% static 'assets/plugins/slick/slick.min.js' %}"></script>
  <!-- End::Plugins -->
  <!-- Start::Page Scripts (used by this page) -->
  <script src="{% static 'assets/js/custom/chart.js' %}"></script>
  <script src="{% static 'assets/js/pages/dashboard-page-v1.js' %}"></script>
  <script src="{% static 'assets/js/custom/navbar.js' %}"></script>
  <script src="{% static 'assets/js/custom/custom-select.js' %}"></script>
  <!-- End::Page Scripts -->
  {% if request.user.is_authenticated %}
  <script>
      (function() {
          const idleDuration = 300000; // 5 minutes in milliseconds
          let idleTimer;

          function resetTimer() {
              clearTimeout(idleTimer);
              idleTimer = setTimeout(() => {
                  window.location.href = "{% url 'signin' %}";
              }, idleDuration);
          }

          // Events to reset the timer
          window.onload = resetTimer;
          window.onmousemove = resetTimer;
          window.onmousedown = resetTimer;
          window.ontouchstart = resetTimer;
          window.onclick = resetTimer;
          window.onkeypress = resetTimer;
          window.addEventListener('scroll', resetTimer, true);

          resetTimer(); // Initialize on load
      })();
  </script>
  {% endif %}
  {% endblock %} {% endblock %}
</body>

</html>