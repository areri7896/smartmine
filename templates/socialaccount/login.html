{% extends "socialaccount/base_entrance.html" %}
{% load i18n %}
{% load static %}
{% load allauth %}
{% block head_title %}
{% load widget_tweaks %}
<!-- {% trans "Sign In" %} -->
{% endblock head_title %}

{% block css_links %}
<link href="{% static 'assets/media/images/icons/smr.png' %}" rel="shortcut icon" type="image/x-icon" />

<!-- Start::Global Styles (used by all pages) -->
<link href="{% static 'assets/css/styles.bundle.css' %}" rel="stylesheet" type="text/css" />
<!-- End::Global Styles -->

<!-- Start::Page Styles (used by this page) -->
<link href="{% static 'assets/css/pages/sign-in.css' %}" rel="stylesheet" type="text/css" />
<!-- End::Page Styles -->
{% endblock %}

{% block content %}

<body class="">
    <div class="sign-in">
        <div class="sign-in-card">
            {% if process == "connect" %}
            <h1 class="my-3">
                {% blocktrans with provider.name as provider %}Connect {{ provider }}{% endblocktrans %}
            </h1>
            <p class="fb-sm sign-in__title">
                {% blocktrans with provider.name as provider %}You are about to connect a new third-party account
                from {{ provider }}.{% endblocktrans %}
            </p>
            {% else %}
            <h1 class="my-3">
                {% blocktrans with provider.name as provider %}Sign In Via {{ provider }}{% endblocktrans %}
            </h1>
            <p class="fb-sm sign-in__title">
                {% blocktrans with provider.name as provider %}You are about to sign in using a third-party account
                from {{ provider }}.{% endblocktrans %}
            </p>
            {% endif %}
            <form method="post" no_visible_fields=True class="sign-in__forms">
                {% csrf_token %}
                <button type="submit" class="btn btn-primary btn-pill btn-submit">
                    {% trans "Continue" %}
                </button>
            </form>
        </div>
    </div>

    {% if messages %}
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="liveToast" class="toast bg-primary" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto" style="background-color: #fa2256">Alert</strong>
                <small class="text-muted">Just now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" style="background-color: #246cf9" id="toastMessage">
                {% for message in messages %} {{ message }} {% endfor %}
            </div>
        </div>
    </div>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            const toastEl = document.getElementById("liveToast");
            const toast = new bootstrap.Toast(toastEl);
            toast.show();
        });
    </script>
    {% endif %}

    {% block js %}

    <!-- Start::Global Bundle Scripts (used by all pages) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="{% static 'assets/js/scripts.bundle.js' %}"></script>
    <script src="{% static 'assets/js/custom/sidebar.js' %}"></script>
    <!-- End::Global Bundle Scripts -->

    <!-- Start::Page Scripts (used by this page) -->
    <script src="{% static 'assets/js/pages/sign-in-page.js' %}"></script>
    <!-- End::Page Scripts -->

    {% endblock %}
</body>
{% endblock content %}